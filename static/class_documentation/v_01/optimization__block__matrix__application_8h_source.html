<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpenFCST: The open-source Fuel Cell Simulation Toolbox: optimization_block_matrix_application.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://www.mathjax.org/mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenFCST: The open-source Fuel Cell Simulation Toolbox
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0cdd5fd48b2f84fd17f11dc705074ec1.html">fcst</a></li><li class="navelem"><a class="el" href="dir_d9efe7c7bf0070d8d381133131540401.html">include</a></li><li class="navelem"><a class="el" href="dir_6e7186974ac91f82d3026cb9c08cccfa.html">applications</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">optimization_block_matrix_application.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="optimization__block__matrix__application_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//    $Id: optimization_block_matrix_application.h 1354 2013-08-17 00:01:22Z secanell $</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//    Copyright (C) 2006 by Marc Secanell</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//    This file is subject to QPL and may not be  distributed</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//    without copyright and license information. Please refer</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//    to the file deal.II/doc/license.html for the  text  and</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">//    further information on this license.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//---------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#ifndef __appframe__optimization_block_application_h</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define __appframe__optimization_block_application_h</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;base/parameter_handler.h&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;lac/vector.h&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;lac/block_vector.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;grid/grid_refinement.h&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;grid/grid_tools.h&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;grid/persistent_tria.h&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;dofs/dof_handler.h&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;dofs/dof_renumbering.h&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;fe/fe.h&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;fe/fe_values.h&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;numerics/solution_transfer.h&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;boost/shared_ptr.hpp&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//#include &lt;numerics/mesh_worker.h&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">//#include &lt;numerics/mesh_worker_loop.h&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="base_8h.html">appframe/base.h</a>&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="dof__application_8h.html">appframe/dof_application.h</a>&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="matrix__base_8h.html">appframe/matrix_base.h</a>&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="matrix__application_8h.html">appframe/matrix_application.h</a>&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="block__matrix__application_8h.html">appframe/block_matrix_application.h</a>&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="mesh__worker__loop_8h.html">appframe/mesh_worker_loop.h</a>&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="code" href="namespaceAppFrame.html">   43</a></span>&#160;<span class="keyword">namespace </span>AppFrame</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="code" href="classOptimizationBlockMatrixApplication.html">   50</a></span>&#160;  <span class="keyword">template</span>&lt;<span class="keywordtype">int</span> dim&gt; <span class="keyword">class </span><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html" title="Application handling matrices and assembling the linear system to solve the sensitivity equations...">OptimizationBlockMatrixApplication</a>; </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">int</span> dim&gt;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="code" href="classAppFrame_1_1LocalResponse.html">   67</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classAppFrame_1_1LocalResponse.html" title="The Integrator computing the current density in the CL.">LocalResponse</a> : </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keyword">public</span> <a class="code" href="classMeshWorker_1_1Assembler_1_1Functional.html" title="The class assembling local contributions to a functional into the global functionals.">MeshWorker::Assembler::Functional</a>&lt;double&gt;,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keyword">public</span> <a class="code" href="classMeshWorker_1_1WorkerObjects_1_1IntegrationWorker.html" title="Basic worker class for integration of residuals.">MeshWorker::WorkerObjects::IntegrationWorker</a>&lt;dim&gt;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="code" href="classAppFrame_1_1LocalResponse.html#a73041846bf92b8854a1e0b653953226d">   72</a></span>&#160;      SmartPointer&lt;OptimizationBlockMatrixApplication&lt;dim&gt; &gt; <a class="code" href="classAppFrame_1_1LocalResponse.html#a73041846bf92b8854a1e0b653953226d">app</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  </div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="code" href="classAppFrame_1_1LocalResponse.html#ad69a3feab5c22ddd2543d22e19ff5d81">   79</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1LocalResponse.html#ad69a3feab5c22ddd2543d22e19ff5d81" title="Initialize.">initialize</a>(<a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html" title="Application handling matrices and assembling the linear system to solve the sensitivity equations...">OptimizationBlockMatrixApplication&lt;dim&gt;</a>* a,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <a class="code" href="classAppFrame_1_1LocalResponse.html#a73041846bf92b8854a1e0b653953226d">app</a> = a;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <a class="code" href="classMeshWorker_1_1Assembler_1_1Functional.html#a92d962fc0e7b719d150045ad7d5ff168">MeshWorker::Assembler::Functional&lt;double&gt;::initialize</a>(m);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1LocalResponse.html#aa2738c0847b0b39c5a593804b1ffb0a9" title="Do the work on a cell.">cell</a>(<span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classMeshWorker_1_1InfoObjects_1_1IntegrationInfo.html">AppFrame::DoFApplication&lt;dim&gt;::CellInfo</a>&amp; cell_info);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1LocalResponse.html#aab6254a04d703397f465c2e6047bffca" title="Do the work on a boundary face.">bdry</a>(<span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classMeshWorker_1_1InfoObjects_1_1IntegrationInfo.html">AppFrame::DoFApplication&lt;dim&gt;::FaceInfo</a>&amp; <a class="code" href="classAppFrame_1_1LocalResponse.html#a3db4233fafaf351a6205b169c1a88d7c" title="Do the work on an interior face.">face</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;     <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1LocalResponse.html#a3db4233fafaf351a6205b169c1a88d7c" title="Do the work on an interior face.">face</a>(<span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classMeshWorker_1_1InfoObjects_1_1IntegrationInfo.html">AppFrame::DoFApplication&lt;dim&gt;::FaceInfo</a>&amp; face1,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;               <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classMeshWorker_1_1InfoObjects_1_1IntegrationInfo.html">AppFrame::DoFApplication&lt;dim&gt;::FaceInfo</a>&amp; face2);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  };</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">int</span> dim&gt;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html">  114</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html" title="Application handling matrices and assembling the linear system to solve the sensitivity equations...">OptimizationBlockMatrixApplication</a> :</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">public</span> <a class="code" href="classAppFrame_1_1BlockMatrixApplication.html" title="Application handling matrices and assembling linear systems of equations.">AppFrame::BlockMatrixApplication</a>&lt;dim&gt;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#aabd63612b0dd6a17fd8564c11d1e667b">  124</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classAppFrame_1_1Event.html" title="Objects of this kind are used to notify interior applications of changes provoked by an outer loop...">AppFrame::Event</a> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#aabd63612b0dd6a17fd8564c11d1e667b" title="The Event set by OptimizationMatrixApplication if if we want to compute the sensitivities and a new m...">sensitivity_analysis</a>; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#afbced91657d7d3c4dd4986f29e778c29" title="Constructor for an object, owning its own mesh and dof handler.">OptimizationBlockMatrixApplication</a>(boost::shared_ptr&lt;AppFrame::ApplicationData&gt; <a class="code" href="classAppFrame_1_1ApplicationBase.html#a5a67505cd7809ab4e8814476b1752d48" title="Object for auxiliary data.">data</a> =</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                                       boost::shared_ptr&lt;AppFrame::ApplicationData&gt;());</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#afbced91657d7d3c4dd4986f29e778c29" title="Constructor for an object, owning its own mesh and dof handler.">OptimizationBlockMatrixApplication</a>(<a class="code" href="classAppFrame_1_1DoFApplication.html" title="Integrate the residual using DoFApplication::integrate_1form().">AppFrame::DoFApplication&lt;dim&gt;</a>&amp;,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                                       <span class="keywordtype">bool</span> triangulation_only);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        </div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a1e439f8a38cdfbf050c474bbeddcf242">  154</a></span>&#160;        <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a1e439f8a38cdfbf050c474bbeddcf242" title="Destructor.">~OptimizationBlockMatrixApplication</a>(){};</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a9db16a1f27b441ae09aaead5b6439234" title="Declare all parameters that are needed for:">declare_parameters</a>(ParameterHandler&amp; param);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a52e4715e54e0ceade63b16cfafd65aa6" title="Function called by optimization loop in order to set the values in the ParameterHandler to the new de...">set_parameters</a>(<span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; name_dvar,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                <span class="keyword">const</span> std::vector&lt;double&gt;&amp; value_dvar,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                ParameterHandler&amp; param);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ac1e80c326310041d5b4ec460e0db60f9" title="Initialize application.">initialize</a>(ParameterHandler&amp; param);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a3b90f371c7c410824a928748566c25b7" title="Initialize nonlinear solution.">init_solution</a>(<a class="code" href="classBlockVector.html">AppFrame::FEVector</a>&amp; src) = 0;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#adfd39965ce4231a71425f805b7ef0993" title="Post-processing.">responses</a> (std::vector&lt;double&gt;&amp; f,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classAppFrame_1_1FEVectors.html" title="The data type used in function calls of Application.">AppFrame::FEVectors</a>&amp; vectors);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a65a60ea8a6955b2c993a7026696e720b" title="This class is called by responses to make sure that all responses requested are implemented in either...">check_responses</a>();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a84e3e02a490ea38740da9741fadd1c20" title="This class is used to evaluate all the functionals that require looping over cells.">cell_responses</a> (std::vector&lt;double&gt;&amp; resp,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                 <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classMeshWorker_1_1InfoObjects_1_1IntegrationInfo.html">DoFApplication&lt;dim&gt;::CellInfo</a>&amp; info,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                 <span class="keyword">const</span> <a class="code" href="classBlockVector.html">AppFrame::FEVector</a>&amp; sol);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a898b81f32c87378ec514b5661e1fba76" title="This class is used to evaluate all responses that do not require looping over cells.">global_responses</a> (std::vector&lt;double&gt;&amp; resp,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classBlockVector.html">AppFrame::FEVector</a>&amp; sol);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ae184d40f6ee507c7423386f945bbfa85" title="This function is used to print the responses to screen (deallog)">print_responses</a> (std::vector&lt;double&gt;&amp; resp);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a9e9484345e487538a62d56da7d3d42ff" title="Post-processing.">dresponses_dl</a> (std::vector&lt;std::vector&lt;double&gt; &gt;&amp; df_dl,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                <span class="keyword">const</span> <a class="code" href="classAppFrame_1_1FEVectors.html" title="The data type used in function calls of Application.">AppFrame::FEVectors</a>&amp; src);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a73b9f9a693fcec76bbf2be28baed15d3" title="This class is used to evaluate the derivative of all the functionals that require looping over cells ...">cell_dresponses_dl</a>(std::vector&lt;std::vector&lt;double&gt; &gt;&amp; cell_df_dl,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                    <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classMeshWorker_1_1InfoObjects_1_1IntegrationInfo.html">DoFApplication&lt;dim&gt;::CellInfo</a>&amp; info,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classBlockVector.html">AppFrame::FEVector</a>&amp; src);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a5abe3e19ea43190cf35c9d6c71f68b91" title="This class is used to evaluate the sensitivities of all responses that do not require looping over ce...">global_dresponses_dl</a>(std::vector&lt;std::vector&lt;double&gt; &gt;&amp; df_dl,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classBlockVector.html">AppFrame::FEVector</a>&amp; src);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a668c57d993f5cdf535f1aa25a835d88f" title="Loop over all cells and assemble the vector  that is used to solve the sensitivity equations by using...">dresponses_du</a>(std::vector&lt;AppFrame::FEVector&gt;&amp; dst,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classAppFrame_1_1FEVectors.html" title="The data type used in function calls of Application.">AppFrame::FEVectors</a>&amp; src);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a080ed76f50330f25e3f1f9180e6ceca2" title="Integration of local bilinear form.">cell_dresponses_du</a>(std::vector&lt;AppFrame::FEVector&gt;&amp; df_du,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                                    <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classMeshWorker_1_1InfoObjects_1_1IntegrationInfo.html">DoFApplication&lt;dim&gt;::CellInfo</a>&amp; info,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                                    std::vector&lt;std::vector&lt;double&gt; &gt;&amp; src);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a42215024348cb9c81847a7c10c0ca32b" title="This class is used to evaluate the sensitivities of all responses that do not require looping over ce...">global_dresponses_du</a>(std::vector&lt;AppFrame::FEVector&gt;&amp; df_du,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                      <span class="keyword">const</span> <a class="code" href="classBlockVector.html">AppFrame::FEVector</a>&amp; src);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#adf771d30c75446e18fd071ae4c1f3f31" title="Loop over all cells and assemble the vector  that is used to solve the sensitivity equations by using...">dresidual_dlambda</a>(std::vector&lt;AppFrame::FEVector&gt;&amp; dst,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classAppFrame_1_1FEVectors.html" title="The data type used in function calls of Application.">AppFrame::FEVectors</a>&amp; src);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a32c12a9b2dde0d609ad1e389da51a5c2" title="Integration of local bilinear form.">cell_dresidual_dlambda</a>(std::vector&lt;AppFrame::FEVector&gt;&amp; cell_vector,</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                        <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classMeshWorker_1_1InfoObjects_1_1IntegrationInfo.html">DoFApplication&lt;dim&gt;::CellInfo</a>&amp; cell,</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                                        std::vector&lt;std::vector&lt;double&gt; &gt;&amp; src);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                                         </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a26f4ba8bcd411e3efe4d2ed724a04393" title="Solver in order to obtain the analytical sensitivities for the given objective and constraints using ...">solve_direct</a> (std::vector&lt;std::vector&lt;double&gt; &gt;&amp; df_dl,</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                       <span class="keyword">const</span> <a class="code" href="classAppFrame_1_1FEVectors.html" title="The data type used in function calls of Application.">AppFrame::FEVectors</a>&amp; sol);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#aae77f241ecc030c5a91e8a5986a2da41" title="Solver in order to obtain the analytical sensitivities for the given objective and constraints using ...">solve_adjoint</a> (std::vector&lt;std::vector&lt;double&gt; &gt;&amp; df_dl,</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classBlockVector.html">AppFrame::FEVector</a>&amp; sol);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#abbe96beaf69411b532792039c2af94dd" title="Member function that returns the number of responses.">get_n_resp</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a7cfbebe1ecda71786dfa9a8962eab6e1" title="Member function that returns the number of design variables.">get_n_dvar</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ace6d415c6f64d48327610534c82291f5">  343</a></span>&#160;    <span class="keyword">inline</span> std::vector&lt;std::string&gt; <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ace6d415c6f64d48327610534c82291f5" title="Member function that returns the name of the design variables.">get_name_dvar</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="keyword">      </span>{ <span class="keywordflow">return</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#af284235dccd1d3139e129d7bbed06e42" title="Member that stores the name of the design variables.">name_design_var</a>;}</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ab8a3ec7d6fb33591b024dc2d2fc42013">  349</a></span>&#160;    <span class="keyword">inline</span> std::vector&lt;std::string&gt; <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ab8a3ec7d6fb33591b024dc2d2fc42013" title="Member function that returns the name of the responses.">get_name_responses</a>()<span class="keyword"> const</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="keyword">      </span>{ <span class="keywordflow">return</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a0646494155a08fb8ba4f5d6df6c47502" title="Member that stores the name of the responses, i.e.">name_responses</a>;}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">/*void enter_data_scalar(std::string name,</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">                           const double&amp; scalar)</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">      this-&gt;get_data()-&gt;enter(name, scalar);</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">      }*/</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    </div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a09e70f75200ad79016069ba9177f84a1">  364</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a09e70f75200ad79016069ba9177f84a1" title="Print the default parameter handler file.">print_default_parameter_file</a>()</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      ParameterHandler prm;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      this-&gt;<a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a9db16a1f27b441ae09aaead5b6439234" title="Declare all parameters that are needed for:">declare_parameters</a>(prm);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      std::ofstream file;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      file.open(<span class="stringliteral">&quot;Default_parameter_file.prm&quot;</span>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      prm.print_parameters (file, ParameterHandler::Text);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      file.close();</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ac8db221e61691b2b1d9d4abe08eee02e">  375</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ac8db221e61691b2b1d9d4abe08eee02e" title="Function to see if we are transferring a solution on a refined grid to the initial coarse grid...">get_bool_transfer_solution</a>()</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        {<span class="keywordflow">return</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a081cf6a550baced8a2d22f475d6847a3" title="Decision variable for whether the solution is to be output for transfer.">output_coarse_solution</a>;}</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#aa7d35b44dc0532313a87560d2416d84a">  378</a></span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#aa7d35b44dc0532313a87560d2416d84a">set_read_initial_solution</a>(<span class="keywordtype">bool</span> &amp;read)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ab2ca34ac773e6975ed8328826d8e0983" title="Decision variable for whether the initial solution should be read from file.">read_in_initial_solution</a> = read;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        </div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ae05aec4a47ba802e6ebca6f43b4436db" title="This routine assigns the value of n_dvar, n_resp, name_design_var and name_responses to the internal ...">set_optimization_parameters</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;<a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a4f01daf37d688b3f746b9399b19ae019" title="Number of design variables.">n_dvar</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;<a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a1dfdcab92afae045b94092fcfbe6894a" title="Number of responses = n_obj + n_con.">n_resp</a>, </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                                                std::vector&lt;std::string&gt; &amp;<a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#af284235dccd1d3139e129d7bbed06e42" title="Member that stores the name of the design variables.">name_design_var</a>, std::vector&lt;std::string&gt; &amp;<a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a0646494155a08fb8ba4f5d6df6c47502" title="Member that stores the name of the responses, i.e.">name_responses</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00394"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ae5c4de7431626ec91d25cad644c41f6e">  394</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ae5c4de7431626ec91d25cad644c41f6e">set_output_variables</a>(std::vector&lt;std::string&gt; &amp;dakota_name_responses)</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a0646494155a08fb8ba4f5d6df6c47502" title="Member that stores the name of the responses, i.e.">name_responses</a> = dakota_name_responses;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        };</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a253d5522fd570588cf6e19bbb232eda6">  405</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a253d5522fd570588cf6e19bbb232eda6" title="Auxiliary routine to print the values df_dl This routine should be called once df_df is assembled...">print_dresponses_dl</a>(std::vector&lt;std::vector&lt;double&gt; &gt; pdf_pdl)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a1dfdcab92afae045b94092fcfbe6894a" title="Number of responses = n_obj + n_con.">n_resp</a>; ++i)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;<a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a4f01daf37d688b3f746b9399b19ae019" title="Number of design variables.">n_dvar</a>; ++j)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;          std::cout&lt;&lt;<span class="stringliteral">&quot;Df&quot;</span>&lt;&lt;i&lt;&lt;<span class="stringliteral">&quot;/Dl&quot;</span>&lt;&lt;j&lt;&lt;<span class="stringliteral">&quot; is equal to &quot;</span>&lt;&lt;pdf_pdl[i][j]&lt;&lt;std::endl;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a68de70f0c1421a81df93c6f318ef0ae0">  416</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a68de70f0c1421a81df93c6f318ef0ae0" title="Auxiliary routine to print the values of df_du This routine should be called once df_du is assembled...">print_dresponses_du</a>(std::vector&lt;AppFrame::FEVector&gt; df_du)</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <span class="comment">// Write partial df_du:</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r=0; r&lt;<a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a1dfdcab92afae045b94092fcfbe6894a" title="Number of responses = n_obj + n_con.">n_resp</a>; ++r)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        {  </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          <span class="comment">// Output Du block by block </span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n_blocks = df_du[r].n_blocks();</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> size = df_du[r].size();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> comp_per_block = size/n_blocks;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;n_blocks; ++i)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j=0; j&lt;comp_per_block; ++j)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;              {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                std::cout&lt;&lt;<span class="stringliteral">&quot;Element &quot;</span>&lt;&lt;j&lt;&lt;<span class="stringliteral">&quot; in block &quot;</span>&lt;&lt;i&lt;&lt;<span class="stringliteral">&quot; in STEP (Du) is &quot;</span>&lt;&lt;df_du[r].block(i)(j)&lt;&lt;std::endl;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;              }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;          std::cout&lt;&lt;<span class="stringliteral">&quot;NORM OF Df&quot;</span>&lt;&lt;r&lt;&lt;<span class="stringliteral">&quot;/Du = &quot;</span>&lt;&lt;df_du[r].l2_norm()&lt;&lt;std::endl;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a165e684629515479136d67287e57fc0b">  440</a></span>&#160;    <span class="keyword">typedef</span> void (*<a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a165e684629515479136d67287e57fc0b" title="Definition of a pointer to a function that is called in a loop over cells to compute the derivatives ...">CELL_Dvalues</a>) (std::vector&lt;AppFrame::FEVector&gt;&amp; ,</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                  <span class="keyword">const</span> <span class="keyword">typename</span> <a class="code" href="classMeshWorker_1_1InfoObjects_1_1IntegrationInfo.html">DoFApplication&lt;dim&gt;::CellInfo</a>&amp; ,</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                                  std::vector&lt;std::vector&lt;double&gt; &gt;&amp; );</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ab7c3289d2a5ee40816467f0029accadb" title="This is an auxiliary function called by dresidual_dlambda and dfunctional_du.">dfunction</a> (std::vector&lt;AppFrame::FEVector&gt;&amp; dst,</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classAppFrame_1_1FEVectors.html" title="The data type used in function calls of Application.">AppFrame::FEVectors</a>&amp; src,</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                    <span class="keywordtype">bool</span> dfunctional_du,</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    <span class="keywordtype">bool</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#adf771d30c75446e18fd071ae4c1f3f31" title="Loop over all cells and assemble the vector  that is used to solve the sensitivity equations by using...">dresidual_dlambda</a>);</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    </div>
<div class="line"><a name="l00462"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a4f01daf37d688b3f746b9399b19ae019">  462</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a4f01daf37d688b3f746b9399b19ae019" title="Number of design variables.">n_dvar</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a681e1ef15adde5c535f9d1c4c36c8f26">  466</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a681e1ef15adde5c535f9d1c4c36c8f26" title="Number of objective functions.">n_obj</a>;</div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a1dfdcab92afae045b94092fcfbe6894a">  470</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a1dfdcab92afae045b94092fcfbe6894a" title="Number of responses = n_obj + n_con.">n_resp</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#af284235dccd1d3139e129d7bbed06e42">  474</a></span>&#160;    std::vector&lt;std::string&gt; <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#af284235dccd1d3139e129d7bbed06e42" title="Member that stores the name of the design variables.">name_design_var</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a0646494155a08fb8ba4f5d6df6c47502">  479</a></span>&#160;    std::vector&lt;std::string&gt; <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a0646494155a08fb8ba4f5d6df6c47502" title="Member that stores the name of the responses, i.e.">name_responses</a>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    </div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a5ad4ee2b7c400a0f9db25cb0d598b490">  485</a></span>&#160;    std::vector&lt;std::string&gt; <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a5ad4ee2b7c400a0f9db25cb0d598b490" title="Member that stores the name of the output variables, These names will be written to name_responses if...">name_output_var</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00488"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a081cf6a550baced8a2d22f475d6847a3">  488</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a081cf6a550baced8a2d22f475d6847a3" title="Decision variable for whether the solution is to be output for transfer.">output_coarse_solution</a>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ab2ca34ac773e6975ed8328826d8e0983">  491</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#ab2ca34ac773e6975ed8328826d8e0983" title="Decision variable for whether the initial solution should be read from file.">read_in_initial_solution</a>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    </div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a4a279625578ad6bdebf2b6a9ebde5012">  494</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classAppFrame_1_1OptimizationBlockMatrixApplication.html#a4a279625578ad6bdebf2b6a9ebde5012" title="Decision variable for whether the application is being used for optimization.">optimization</a>; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  };</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;}</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 30 2013 17:15:54 for OpenFCST: The open-source Fuel Cell Simulation Toolbox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
